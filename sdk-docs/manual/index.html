<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | GSF JavaScript Client SDK</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="GSF JavaScript Client SDK"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="GSF JavaScript Client SDK"><meta property="twitter:description" content="GSF JavaScript Client SDK"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/geospatial-services-framework"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h2" data-link="manual/installation.html"><a href="manual/installation.html#installation-guide" data-ice="link">Installation Guide</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html" data-ice="link">Migration Guide: Moving from v2 to v3</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#server-class" data-ice="link">Server Class</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#gsf-server-is-now-gsf-client-" data-ice="link">GSF.Server is now GSF.Client.</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#client-apiroot-no-longer-defaults-to---39-ese--39--" data-ice="link">Client.APIRoot no longer defaults to &apos;ese&apos;.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#service-class" data-ice="link">Service Class</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#service-info---no-longer-contains-task-list-" data-ice="link">Service.info() no longer contains task list.</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#service-taskinfolist---response-changed-" data-ice="link">Service.taskInfoList() response changed.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#task-class" data-ice="link">Task Class</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#task-info---response-changed-" data-ice="link">Task.info() response changed.</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#task-submit---and-task-submitandwait---options-changed-" data-ice="link">Task.submit() and Task.submitAndWait() options changed.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#job-class" data-ice="link">Job Class</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#job-info---response-changed-" data-ice="link">Job.info() response changed.</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#job-event-names-changed---they-are-now-the-same-as-the-client-events-" data-ice="link">Job event names changed.  They are now the same as the Client events.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#job-wait---response-changed-" data-ice="link">Job.wait() response changed.</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#types" data-ice="link">Types</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#taskinfo" data-ice="link">TaskInfo</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-taskinfo-in-v2" data-ice="link">Example of TaskInfo in v2</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-taskinfo-in-v3" data-ice="link">Example of TaskInfo in v3</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#serviceinfo" data-ice="link">ServiceInfo</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-serviceinfo-in-v2" data-ice="link">Example of ServiceInfo in v2</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-serviceinfo-in-v3" data-ice="link">Example of ServiceInfo in v3</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#submitoptions" data-ice="link">SubmitOptions</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-submitoptions-in-v2" data-ice="link">Example of SubmitOptions in v2</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-submitoptions-in-v3" data-ice="link">Example of SubmitOptions in v3</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#jobinfo" data-ice="link">JobInfo</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-jobinfo-in-v2" data-ice="link">Example of JobInfo in v2</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-jobinfo-in-v3" data-ice="link">Example of JobInfo in v3</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#jobresults" data-ice="link">JobResults</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-jobresults-in-v2" data-ice="link">Example of JobResults in v2</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v3.html"><a href="manual/migration-guide-v3.html#example-of-jobresults-in-v3" data-ice="link">Example of JobResults in v3</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html" data-ice="link">Migration Guide: Moving from v3 to v4</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#job-ids" data-ice="link">Job IDs</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#job-lists" data-ice="link">Job Lists</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#new---39-query--39--option" data-ice="link">New &apos;query&apos; option</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#new---39-sort--39--option" data-ice="link">New &apos;sort&apos; option</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#new---39-totals--39--option" data-ice="link">New &apos;totals&apos; option</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#jobinfolist-response-has-changed" data-ice="link">JobInfoList response has changed</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#the---39-reverse--39--and---39-status--39--options-have-been-removed" data-ice="link">The &apos;reverse&apos; and &apos;status&apos; options have been removed</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#converting-code-that-uses-the---39-reverse--39--option" data-ice="link">Converting code that uses the &apos;reverse&apos; option</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/migration-guide-v4.html"><a href="manual/migration-guide-v4.html#converting-code-that-uses-the---39-status--39--option" data-ice="link">Converting code that uses the &apos;status&apos; option</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/getting-started.html"><a href="manual/getting-started.html#getting-started" data-ice="link">Getting Started</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/getting-started.html"><a href="manual/getting-started.html#gsf-javascript-client-sdk" data-ice="link">GSF JavaScript Client SDK</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#about-the-sdk" data-ice="link">About the SDK</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#basic-usage" data-ice="link">Basic Usage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#importing-the-sdk" data-ice="link">Importing the SDK</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/getting-started.html"><a href="manual/getting-started.html#using-ecmascript-2015" data-ice="link">Using ECMAScript 2015</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/getting-started.html"><a href="manual/getting-started.html#using-node-js" data-ice="link">Using Node.js</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#including-the-sdk-with-a-script-tag" data-ice="link">Including the SDK with a Script Tag</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#requirements" data-ice="link">Requirements</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#server-sent-events" data-ice="link">Server Sent Events</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#building-the-sdk" data-ice="link">Building the SDK</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#testing-the-sdk" data-ice="link">Testing the SDK</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/getting-started.html"><a href="manual/getting-started.html#using-a-test-server" data-ice="link">Using a Test Server</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/getting-started.html"><a href="manual/getting-started.html#run-tests-in-the-browser-against-mock-server-" data-ice="link">Run tests in the browser against mock server.</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/getting-started.html"><a href="manual/getting-started.html#run-tests-in-node-js-against-mock-server-" data-ice="link">Run tests in Node.js against mock server.</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/getting-started.html"><a href="manual/getting-started.html#building-the-documentation" data-ice="link">Building the Documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/examples.html"><a href="manual/examples.html" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#list-available-services" data-ice="link">List Available Services</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#list-jobs" data-ice="link">List Jobs</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#the---39-query--39--option" data-ice="link">The &apos;query&apos; option</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#the---39-sort--39--option" data-ice="link">The &apos;sort&apos; option</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#advanced-query" data-ice="link">Advanced query</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#list-available-tasks" data-ice="link">List Available Tasks</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#get-task-information" data-ice="link">Get Task Information</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#run-a-task" data-ice="link">Run a Task</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#using-promises" data-ice="link">Using Promises</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/examples.html"><a href="manual/examples.html#1--use--a-href-----class-src-task-js-task-html-instance-method-submit---strong--submit----strong---a--and-then--a-href-----class-src-job-js-job-html-instance-method-wait---strong--wait----strong---a-" data-ice="link">1. Use .submit() and then .wait()</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/examples.html"><a href="manual/examples.html#2--use--a-href-----class-src-task-js-task-html-instance-method-submitandwait---strong--submitandwait----strong---a-" data-ice="link">2. Use .submitAndWait()</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#list-and-retrieve-workspace-files" data-ice="link">List and Retrieve Workspace Files</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#using-server-events" data-ice="link">Using Server Events</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#tracking-job-progress" data-ice="link">Tracking Job Progress</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#progress-callbacks" data-ice="link">Progress Callbacks</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#progress-events" data-ice="link">Progress Events</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/examples.html"><a href="manual/examples.html#client-progress-events" data-ice="link">Client Progress Events</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/examples.html"><a href="manual/examples.html#job-progress-events" data-ice="link">Job Progress Events</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#cancelling-jobs" data-ice="link">Cancelling Jobs</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#-a-name--typescript----a--typescript-example" data-ice="link"> Typescript Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/examples.html"><a href="manual/examples.html#-a-name--bestpractices----a--best-practices" data-ice="link"> Best Practices</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/examples.html"><a href="manual/examples.html#connecting-to-servers" data-ice="link">Connecting to Servers</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html" data-ice="link">Change Log</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#4-0-0---2020-06-22" data-ice="link">4.0.0 / 2020-06-22</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#breaking-changes" data-ice="link">Breaking Changes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#3-0-0---2018-03-21" data-ice="link">3.0.0 / 2018-03-21</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#breaking-changes" data-ice="link">Breaking Changes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#2-2-0---2018-03-22" data-ice="link">2.2.0 / 2018-03-22</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#bug-fixes" data-ice="link">Bug Fixes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#2-1-0---2018-03-21" data-ice="link">2.1.0 / 2018-03-21</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#2-0-0---2017-07-24" data-ice="link">2.0.0 / 2017-07-24</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#breaking-changes" data-ice="link">Breaking Changes</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#1-0-0---2017-02-26" data-ice="link">1.0.0 / 2017-02-26</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#new-features" data-ice="link">New Features</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Migration Guide: Moving from v2 to v3</h1><p>The gsf-javascript-client-sdk has undergone a number of changes for version 3.0.  This version is significant due to the adoption of a new HTTP API for GSF.  This means that if you upgrade your SDK to v3, you will also need to update your server(s) to GSF version 3.0. Ensure that the gsf-request-handler is enabled on the server before using version 3 of the SDK.  There are a number of breaking changes for the SDK user as a result of switching to the new API.</p><p>The purpose of this guide is to help you transition your application&apos;s source code from v2 to v3 of the SDK.</p><ul>
<li>Classes<ul>
<li><a href="#server-class">Server</a></li>
<li><a href="#service-class">Service</a></li>
<li><a href="#task-class">Task</a></li>
<li><a href="#job-class">Job</a></li>
</ul>
</li>
<li>Types<ul>
<li><a href="#serviceinfo">ServiceInfo</a></li>
<li><a href="#taskinfo">TaskInfo</a></li>
<li><a href="#submitoptions">SubmitOptions</a></li>
<li><a href="#jobinfo">JobInfo</a></li>
<li><a href="#jobresults">JobResults</a></li>
</ul>
</li>
</ul><h3>Server Class</h3><h4>GSF.Server is now GSF.Client.</h4><ul>
<li>The server class has been renamed to &apos;Client&apos;.</li>
<li>The &apos;ServerArgs&apos; object is now referred to as &apos;ClientOptions&apos;.</li>
</ul><h4>Client.APIRoot no longer defaults to &apos;ese&apos;.</h4><ul>
<li>The default APIRoot has been removed to align with the new HTTP API.</li>
</ul><h3>Service Class</h3><h4>Service.info() no longer contains task list.</h4><ul>
<li>See <a href="#serviceinfo">ServiceInfo</a> below for details.</li>
</ul><h4>Service.taskInfoList() response changed.</h4><ul>
<li>See <a href="#taskinfo">TaskInfo</a> below for details.</li>
</ul><h3>Task Class</h3><h4>Task.info() response changed.</h4><ul>
<li>See <a href="#taskinfo">TaskInfo</a> below for details.</li>
</ul><h4>Task.submit() and Task.submitAndWait() options changed.</h4><ul>
<li>See <a href="#submitoptions">SubmitOptions</a> for more details.</li>
</ul><h3>Job Class</h3><h4>Job.info() response changed.</h4><ul>
<li>See <a href="#jobinfo">JobInfo</a> below for more details.</li>
</ul><h4>Job event names changed.  They are now the same as the Client events.</h4><pre><code><code class="source-code prettyprint">- Renamed &apos;Accepted&apos; to &apos;JobAccepted&apos;.
- Renamed &apos;Started&apos; to &apos;JobStarted&apos;.
- Renamed &apos;Progress&apos; to &apos;JobProgress&apos;.
- Renamed &apos;Completed&apos; to &apos;JobCompleted&apos;.
- Renamed &apos;Succeeded&apos; to &apos;JobSucceeded&apos;.
- Renamed &apos;Failed&apos; to &apos;JobFailed&apos;.</code>
</code></pre><h3>Job.wait() response changed.</h3><ul>
<li>See <a href="#jobresults">JobResults</a> below for more details.</li>
</ul><h2>Types</h2><h3>TaskInfo</h3><ul>
<li>Added &apos;serviceName&apos;.</li>
<li>Renamed &apos;name&apos; to &apos;taskName&apos;.</li>
<li>Renamed &apos;&lt;parameter&gt;.dataType&apos; to &apos;&lt;parameter&gt;.type&apos;.</li>
<li>Renamed &apos;&lt;parameter&gt;.defaultValue&apos; to &apos;&lt;parameter&gt;.default&apos;.</li>
<li>Replaced &apos;parameters&apos; with &apos;inputParameters&apos; and &apos;outputParameters&apos;.</li>
<li>Removed &apos;&lt;parameter&gt;.direction&apos;<ul>
<li>New &apos;inputParameters&apos; and &apos;outputParameters&apos; arrays indicate direction in their name.</li>
</ul>
</li>
</ul><h5>Example of TaskInfo in v2</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;name&quot;: &quot;ISODATAClassification&quot;,
    &quot;displayName&quot;: &quot;ISODATA Classification&quot;,
    &quot;description&quot;: &quot;This task clusters pixels in a dataset based on statistics only, without requiring you to define training classes.&quot;,
    &quot;parameters&quot;: {
        &quot;INPUT_RASTER&quot;: {
            &quot;name&quot;: &quot;INPUT_RASTER&quot;,
            &quot;parameterType&quot;: &quot;required&quot;,
            &quot;displayName&quot;: &quot;Input Raster&quot;,
            &quot;description&quot;: &quot;Specify a raster on which to perform unsupervised classification.&quot;,
            &quot;direction&quot;: &quot;INPUT&quot;,
            &quot;dataType:&quot;: &quot;ENVIRASTER&quot;
        },
        &quot;OUTPUT_RASTER&quot;: {
            &quot;name&quot;: &quot;OUTPUT_RASTER&quot;,
            &quot;parameterType&quot;: &quot;required&quot;,
            &quot;displayName&quot;: &quot;Output Raster&quot;,
            &quot;description&quot;: &quot;This is a reference to the output classification raster of filetype ENVI.&quot;,
            &quot;direction&quot;: &quot;OUTPUT&quot;,
            &quot;dataType:&quot;: &quot;ENVIRASTER&quot;
        }
    }
}</code>
</code></pre><h5>Example of TaskInfo in v3</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;taskName&quot;: &quot;ISODATAClassification&quot;,
    &quot;serviceName&quot;: &quot;ENVI&quot;,
    &quot;displayName&quot;: &quot;ISODATA Classification&quot;,
    &quot;description&quot;: &quot;This task clusters pixels in a dataset based on statistics only, without requiring you to define training classes.&quot;,
    &quot;inputParameters&quot;: [
        {
            &quot;name&quot;: &quot;INPUT_RASTER&quot;,
            &quot;type&quot;: &quot;ENVIRASTER&quot;,
            &quot;required&quot;: true,
            &quot;displayName&quot;: &quot;Input Raster&quot;,
            &quot;description&quot;: &quot;Specify a raster on which to perform unsupervised classification.&quot;
        }
    ],
    &quot;outputParameters&quot;: [
        {
            &quot;name&quot;: &quot;OUTPUT_RASTER&quot;,
            &quot;type&quot;: &quot;ENVIRASTER&quot;,
            &quot;displayName&quot;: &quot;Output Raster&quot;,
            &quot;description&quot;: &quot;This is a reference to the output classification raster of filetype ENVI.&quot;,
            &quot;required&quot;: true
        }
    ]
}</code>
</code></pre><p>For full documention see <a href="./manual/../typedef/index.html#static-typedef-TaskInfo"><strong>TaskInfo</strong></a>.</p><h3>ServiceInfo</h3><ul>
<li>Removed &apos;tasks&apos;.<ul>
<li>Use Service.tasks() or Service.taskInfoList() to obtain task lists.</li>
</ul>
</li>
</ul><h5>Example of ServiceInfo in v2</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;name&quot;: &quot;ENVI&quot;,
    &quot;description&quot;: &quot;ENVI processing routines&quot;,
    &quot;tasks&quot;: [
        &quot;Task1&quot;,
        &quot;Task2&quot;,
        &quot;Task3&quot;
    ]
}</code>
</code></pre><h5>Example of ServiceInfo in v3</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;name&quot;: &quot;ENVI&quot;,
    &quot;description&quot;: &quot;ENVI processing routines&quot;
}</code>
</code></pre><p>For full documentation see <a href="./manual/../typedef/index.html#static-typedef-ServiceInfo"><strong>ServiceInfo</strong></a>.</p><h3>SubmitOptions</h3><ul>
<li>Added &apos;jobOptions&apos; object.<ul>
<li>&apos;route&apos; was moved into the &apos;jobOptions&apos; object.</li>
<li>Any additional processing directives will reside in the &apos;jobOptions&apos; object.</li>
</ul>
</li>
<li>Renamed &apos;parameters&apos; to &apos;inputParameters&apos;.</li>
</ul><h5>Example of SubmitOptions in v2</h5><pre><code class="lang-javascript"><code class="source-code prettyprint">const submitOptions = {
  parameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;/some/url&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  },
  route: &quot;ENVIRoute&quot;
};</code>
</code></pre><h5>Example of SubmitOptions in v3</h5><pre><code class="lang-javascript"><code class="source-code prettyprint">const submitOptions = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;/some/url&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  },
  jobOptions: {
      route: &quot;ENVIRoute&quot;
  }
};</code>
</code></pre><p>For full documentation see <a href="./manual/../typedef/index.html#static-typedef-SubmitOptions"><strong>SubmitOptions</strong></a>.</p><h3>JobInfo</h3><ul>
<li>Added &apos;jobStart&apos;.</li>
<li>Added &apos;jobEnd&apos;.</li>
<li>Added &apos;jobSubmitted&apos;.</li>
<li>Added &apos;jobOptions&apos;.</li>
<li>Renamed &apos;inputs&apos; to &apos;inputParameters&apos;.</li>
<li>Renamed &apos;jobErrorMessage&apos; to &apos;jobError&apos;.</li>
<li>Renamed &apos;results&apos; to &apos;jobResults&apos;.</li>
<li>Renamed &apos;jobProgressMessage&apos; to &apos;jobMessage&apos;.</li>
<li>Removed &apos;jobRoute&apos;.  This property is now in the &apos;jobOptions&apos; object.</li>
<li>Removed &apos;jobStatusUrl&apos;.</li>
</ul><h5>Example of JobInfo in v2</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;jobId&quot;: 3410,
    &quot;jobStatus&quot;: &quot;Succeeded&quot;,
    &quot;jobStatusURL&quot;: &quot;ese/jobs/3410/status&quot;,
    &quot;jobProgress&quot;: 100,
    &quot;jobProgressMessage&quot;: &quot;Completed&quot;,
    &quot;jobRoute&quot;: &quot;default&quot;,
    &quot;taskName&quot;: &quot;SpectralIndex&quot;,
    &quot;serviceName&quot;: &quot;ENVI&quot;,
    &quot;jobErrorMessage&quot;: &quot;&quot;,
    &quot;inputs&quot;: {
        &quot;index&quot;: &quot;Iron Oxide&quot;,
        &quot;input_raster&quot;: {
            &quot;url&quot;: &quot;/some/url&quot;,
            &quot;factory&quot;: &quot;URLRaster&quot;
        }
    },
    &quot;results&quot;: {
        &quot;OUTPUT_RASTER&quot;: {
            &quot;url&quot;: &quot;/some/url&quot;,
            &quot;factory&quot;: &quot;URLRaster&quot;,
            &quot;auxiliary_url&quot;: [
                &quot;/some/url&quot;
            ]
        }
    },
    &quot;messages&quot;: [{
            &quot;type&quot;: &quot;esriJobMessageTypeInformative&quot;,
            &quot;description&quot;: &quot;Submission Time: Mon Jan 29 2018 16:07:52 GMT-0700 (Mountain Standard Time)&quot;
        },
        {
            &quot;type&quot;: &quot;esriJobMessageTypeInformative&quot;,
            &quot;description&quot;: &quot;Start Time: Mon Jan 29 2018 16:07:52 GMT-0700 (Mountain Standard Time)&quot;
        },
        {
            &quot;type&quot;: &quot;esriJobMessageTypeInformative&quot;,
            &quot;description&quot;: &quot;End Time: Mon Jan 29 2018 16:08:01 GMT-0700 (Mountain Standard Time) (Elapsed Time: 8.818 seconds)&quot;
        }
    ]
}</code>
</code></pre><h5>Example of JobInfo in v3</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;jobId&quot;: 3410,
    &quot;jobProgress&quot;: 100,
    &quot;jobMessage&quot;: &quot;Completed&quot;,
    &quot;jobStatus&quot;: &quot;Succeeded&quot;,
    &quot;taskName&quot;: &quot;SpectralIndex&quot;,
    &quot;serviceName&quot;: &quot;ENVI&quot;,
    &quot;inputParameters&quot;: {
        &quot;index&quot;: &quot;Iron Oxide&quot;,
        &quot;input_raster&quot;: {
            &quot;url&quot;: &quot;/some/url&quot;,
            &quot;factory&quot;: &quot;URLRaster&quot;
        }
    },
    &quot;jobResults&quot;: {
        &quot;OUTPUT_RASTER&quot;: {
            &quot;best&quot;: {
                &quot;url&quot;: &quot;/some/url&quot;,
                &quot;factory&quot;: &quot;URLRaster&quot;,
                &quot;auxiliary_url&quot;: [
                    &quot;/some/url&quot;
                ]
            },
            &quot;ese-job-parameter-mapper&quot;: {
                &quot;url&quot;: &quot;/some/url&quot;,
                &quot;factory&quot;: &quot;URLRaster&quot;,
                &quot;auxiliary_url&quot;: [
                    &quot;/some/url&quot;
                ]
            }
        }
    },
    &quot;jobOptions&quot;: {
        &quot;route&quot;: &quot;default&quot;
    },
    &quot;jobSubmitted&quot;: &quot;2018-01-29T23:07:52.992Z&quot;,
    &quot;jobStart&quot;: &quot;2018-01-29T23:07:52.995Z&quot;,
    &quot;jobEnd&quot;: &quot;2018-01-29T23:08:01.813Z&quot;
}</code>
</code></pre><p>For full documentation see <a href="./manual/../typedef/index.html#static-typedef-JobInfo"><strong>JobInfo</strong></a>.</p><h3>JobResults</h3><ul>
<li>Each parameter now contains all of the parameter mappings.  The highest ranked mapping is set to the &apos;best&apos; key.</li>
</ul><h5>Example of JobResults in v2</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;OUTPUT_RASTER&quot;: {
        &quot;url&quot;: &quot;/some/url&quot;,
        &quot;factory&quot;: &quot;URLRaster&quot;,
        &quot;auxiliary_url&quot;: [
            &quot;/some/url&quot;
        ]
    }
}</code>
</code></pre><h5>Example of JobResults in v3</h5><pre><code class="lang-json"><code class="source-code prettyprint">{
    &quot;OUTPUT_RASTER&quot;: {
        &quot;best&quot;: {
            &quot;url&quot;: &quot;/some/url&quot;,
            &quot;factory&quot;: &quot;URLRaster&quot;,
            &quot;auxiliary_url&quot;: [
                &quot;/some/url&quot;
            ]
        },
        &quot;ese-job-parameter-mapper&quot;: {
            &quot;url&quot;: &quot;/some/url&quot;,
            &quot;factory&quot;: &quot;URLRaster&quot;,
            &quot;auxiliary_url&quot;: [
                &quot;/some/url&quot;
            ]
        }
    }
}</code>
</code></pre><p>For full documentation see <a href="./manual/../typedef/index.html#static-typedef-JobResults"><strong>JobResults</strong></a>.</p></div>
        <a data-ice="link" href="manual/migration-guide-v3.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Migration Guide: Moving from v3 to v4</h1><p>The purpose of this guide is to help you transition your application&apos;s source code from v3 to v4 of the SDK.  These changes will allow you to use the SDK with GSF 3.0 or later.</p><h3>Job IDs</h3><p>Job IDs are now strings due to the addition of optional unique job IDs in GSF 3.0.</p><h3>Job Lists</h3><h4>New &apos;query&apos; option</h4><p>GSF 3.0 has added a powerful API for querying the job database.  The SDK now leverages this new query language and has removed some of the legacy job filters.  More information on this can be found in the <a href="./manual/../manual/examples.html"><strong>Examples</strong></a> page or the GSF Job Search API Tutorial.</p><h4>New &apos;sort&apos; option</h4><p>More flexible sorting is now available for job lists.  Please see <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> documentation for more details</p><h4>New &apos;totals&apos; option</h4><p>A new option called &apos;totals&apos; has been introduced to the JobListOptions object.  This can be used to retrieve total job counts by job status, as well as a grand total.  Please see the <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> documentation for more details.</p><h4>JobInfoList response has changed</h4><p>Instead of just returning the array of JobInfo objects, the Client.JobInfoList() function now returns an object containing the count of filtered jobs, the total number of jobs in the database, and totals for each job status.  For more information see the [<strong>JobInfoList</strong>] documentation.</p><p>JobInfoList V3</p><pre><code class="lang-javascript"><code class="source-code prettyprint">[
    &lt;JobInfo&gt;,
    &lt;JobInfo&gt;,
    ...
]</code>
</code></pre><p>JobInfoList V4</p><pre><code class="lang-javascript"><code class="source-code prettyprint">{
    total: 50,
    count: 10,
    jobs: [
        &lt;JobInfo&gt;,
        &lt;JobInfo&gt;,
        ...
    ]
}</code>
</code></pre><h4>The &apos;reverse&apos; and &apos;status&apos; options have been removed</h4><p>The &apos;reverse&apos; and &apos;status&apos; options have been removed from the <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> object in favor of the new query API.  Below are examples for converting to the new syntax.</p><h5>Converting code that uses the &apos;reverse&apos; option</h5><p>Setting the &apos;reverse&apos; option to true is equivalent to sorting the job list by jobSubmitted date in descending order.</p><pre><code class="lang-diff"><code class="source-code prettyprint">const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
});

// Get job list with jobSubmitted date in descending order.
const jobListOptions = {
-    reverse: true
+    sort: [[ &apos;jobSubmitted&apos;, -1 ]]
};

client
    .jobs(jobListOptions)
    .then((jobList) =&gt; {
        console.log(jobList);
    }).catch((err) =&gt; {
        console.error(err);
    });</code>
</code></pre><h5>Converting code that uses the &apos;status&apos; option</h5><p>Setting the &apos;status&apos; option is equivalent to querying by jobStatus using the new syntax.  For more examples on querying, please see the <a href="./manual/../manual/examples.html"><strong>Examples</strong></a> or the GSF Job Search API Tutorial.</p><pre><code class="lang-diff"><code class="source-code prettyprint">const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
});

// Filter job list by Failed status.
const jobListOptions = {
-    status: &apos;Failed&apos;
+    query: {
+       jobStatus: {
+           &apos;$eq&apos;: &apos;Failed&apos;
+       }
+    }
};

client
    .jobs(jobListOptions)
    .then((jobList) =&gt; {
        console.log(jobList);
    }).catch((err) =&gt; {
        console.error(err);
    });</code>
</code></pre></div>
        <a data-ice="link" href="manual/migration-guide-v4.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>GSF JavaScript Client SDK</h1><h2>About the SDK</h2><p>The GSF JavaScript Client SDK provides a client-side JavaScript library for interacting with GSF.  The SDK works in both the browser and Node.js.</p><ol>
<li>This repository contains pre-built distributable files located in the <code>/dist/</code> directory.<ul>
<li><code>/dist/GSF-node.js</code> - The Node.js bundle.</li>
<li><code>/dist/GSF-node.js.map</code> - The Node.js bundle source map.</li>
<li><code>/dist/GSF.js</code> - The non-minified web bundle.</li>
<li><code>/dist/GSF.js.map</code> - The non-minified web bundle source map file.</li>
<li><code>/dist/GSF.min.js</code> - The minified web bundle.</li>
<li><code>/dist/GSF.min.js.map</code> - The minified web bundle source map file.</li>
</ul>
</li>
</ol><h2>Basic Usage</h2><h3>Importing the SDK</h3><h4>Using ECMAScript 2015</h4><ul>
<li><p>Import everything with GSF namespace:</p>
<p><code>import * as GSF from &apos;gsf-js-client-sdk&apos;;</code></p>
</li>
<li><p>Import specific classes:</p>
<p><code>import { Job, Task } from &apos;gsf-js-client-sdk&apos;;</code></p>
</li>
</ul><h4>Using Node.js</h4><ul>
<li><p>Require the SDK:</p>
<p><code>const GSF = require(&apos;gsf-js-client-sdk/dist/GSF-node&apos;);</code></p>
</li>
</ul><h3>Including the SDK with a Script Tag</h3><ol>
<li><p>Include the GSF JavaScript Client SDK in your project.  The example below assumes the SDK file is located next to your html file.</p>
<p> <code>&lt;script src=&quot;GSF.min.js&quot;&gt;&lt;/script&gt;</code></p>
</li>
<li><p>Access the SDK using the global <a href="./manual/../class/src/GSF.js~GSF.html"><strong>GSF</strong></a> object.</p>
<p> <code>&lt;script&gt;console.log(GSF);&lt;/script&gt;</code></p>
</li>
<li><p>Below is a simple example of running a job and retrieving the results.  You will need to update the server address and port below to reflect the server that you are using.</p>
</li>
</ol><pre><code class="lang-javascript"><code class="source-code prettyprint">const myAddress = &apos;MyServer&apos;;
const myPort = 9191;

// GSF Client
const client = GSF.client({
    address: myAddress,
    port: myPort
  });

// Create a service object.
const service = client.service(&apos;ENVI&apos;);

// Create a task object.
const task = service.task(&apos;SpectralIndex&apos;);

const NDVIParameters = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: `http://${myAddress}:${myPort}/ese/data/qb_boulder_msi`
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  }
};

// Submit a job.
task.submitAndWait(NDVIParameters).then((results) =&gt; {
    // Do something with results.
    AddToMap(results.OUTPUT_RASTER.best);
  }).catch((err) =&gt; {
    // Display error.
  });</code>
</code></pre><h2>Requirements</h2><h3>Server Sent Events</h3><p>The GSF JavaScript Client SDK relies on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events">server-sent events</a> for communication with the server.  Developers who wish to build apps that run on browsers lacking EventSource support will want to use a polyfill.  This is not necessary when using the SDK in Node.js.</p><p>To view a list of the browsers that support EventSource please go here: <a href="https://caniuse.com/#search=eventsource">https://caniuse.com/#search=eventsource</a></p><p>There are several polyfills available that provide implementations of the EventSource API.  One such polyfill that is available from the npm and Bower package managers is called &apos;eventsource-polyfill&apos;.  For information on installation and usage, see <a href="https://github.com/amvtek/EventSource">https://github.com/amvtek/EventSource</a>.</p><h2>Building the SDK</h2><ol>
<li><p>Clone the repository.</p>
<p>$ git clone <a href="https://github.com/geospatial-services-framework/gsf-js-client-sdk">https://github.com/geospatial-services-framework/gsf-js-client-sdk</a></p>
</li>
<li><p>From the root directory of the project install the dependencies.</p>
<p>$ npm install</p>
</li>
<li><p>Run the build script.</p>
<p>$ npm run build</p>
</li>
</ol><h2>Testing the SDK</h2><h4>Using a Test Server</h4><p>We have provided a simple mock server implementation that can be used for very basic testing of the SDK.  There are several other test scripts available. See the scripts section of the package.json file for more information.</p><h5>Run tests in the browser against mock server.</h5><p>  $ npm run test</p><h5>Run tests in Node.js against mock server.</h5><p>  $ npm run test-node</p><h2>Building the Documentation</h2><ol>
<li><p>Build the documentation.</p>
<p>$ npm run help</p>
</li>
<li><p>View the generated help files located in the <code>/help</code> directory (on Windows).</p>
<p>$ start help/index.html</p>
</li>
</ol></div>
        <a data-ice="link" href="manual/getting-started.html#gsf-javascript-client-sdk"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Examples</h1><p>Below are several examples of using the SDK with JavaScript.  For TypeScript specific examples see the <a href="#typescript">TypeScript example</a>.  Before using the SDK, it is also recommended that you read the <a href="#bestPractices">best practices</a> section.</p><h2>List Available Services</h2><p>The GSF <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> object provides the ability to list the available services on the server.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Get an array of available services.
client.services().then((services) =&gt; {
  services.forEach((service) =&gt; {
    // Print each service name.
    console.log(service.name);
  });
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h2>List Jobs</h2><p>The GSF <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> object provides the ability to query and sort the job list.</p><h3>The &apos;query&apos; option</h3><p>The <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> object supports an option called &apos;query&apos;.  This can be used to form advanced queries of the job database.  The primary building block of a query is the comparison operator, which may be used to select jobs matching the desired criteria. The job search API supports the following comparison operators:</p><ul>
<li>$eq</li>
<li>$gt</li>
<li>$gte</li>
<li>$lt</li>
<li>$lte</li>
<li>$ne</li>
</ul><p>A simple query for any job that is not &apos;Succeeded&apos;:</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

const jobListOptions = {
  query: {
      jobStatus: {
          &apos;$ne&apos;: &apos;Succeeded&apos;
      }
  },
};

// List jobs.
client.jobInfoList(jobListOptions).then((jobInfoList) =&gt; {
  // Print job list.
  console.log(jobInfoList);
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h3>The &apos;sort&apos; option</h3><p>In addition to providing a query object, the <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> also allows flexible sorting of the job list.  This field should be an array of sort arrays.  Multiple sort arrays may also be provided as the sorting will be evaluated from left to right.  Each field may be sorted in either ascending (1) or descending (-1) order.</p><p>Sort jobs by &apos;jobSubmitted&apos; date in ascending order.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

const jobListOptions = {
  sort: [ [ &apos;jobSubmitted&apos;, 1 ] ]
};

// List jobs.
client.jobInfoList(jobListOptions).then((jobInfoList) =&gt; {
  // Print job list.
  console.log(jobInfoList);
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h3>Advanced query</h3><p>This example shows all of the features of the job search API used together.  The job search below would return the 10 most recent failed Spectral Index jobs in the database.  For more information please see the <a href="./manual/../typedef/index.html#static-typedef-JobListOptions"><strong>JobListOptions</strong></a> object and the GSF Job Search API Tutorial.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

const jobListOptions = {
  query: {
      taskName: {
          &apos;$eq&apos;: &apos;SpectralIndex&apos;
      },
      jobStatus: {
          &apos;$eq&apos;: &apos;Failed&apos;
      }
  },
  sort: [ [ &apos;jobSubmitted&apos;, -1 ] ],
  offset: 0,
  limit: 10,
  totals: &apos;all&apos;
};

// List jobs.  This will result in an array of Job objects.
client.jobs(jobListOptions).then((jobList) =&gt; {
  // Print job list.
  console.log(jobList);
}).catch((err) =&gt; {
  // There was an error.
});

// List jobs.  This will result in a list of JobInfo object along with a count and totals.
client.jobInfoList(jobListOptions).then((jobInfoList) =&gt; {
  // Print job list.
  console.log(jobInfoList);
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h2>List Available Tasks</h2><p>The <a href="./manual/../class/src/Service.js~Service.html"><strong>Service</strong></a> object provides the ability to list the available tasks on the service.  The example below lists all tasks associated with the ENVI service.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Get the ENVI service.
const service = client.service(&apos;ENVI&apos;);

// Get an array of available tasks.
service.tasks().then((tasks) =&gt; {
  tasks.forEach((task) =&gt; {
    // Print each task name.
    console.log(task.name);
  });
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h2>Get Task Information</h2><p>The <a href="./manual/../class/src/Task.js~Task.html"><strong>Task</strong></a> object allows you to query the task and its parameters.  This may be useful when dynamically constructing UI elements representing task input parameters.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Get the ENVI service.
const service = client.service(&apos;ENVI&apos;);

// Get a task.
const task = service.task(&apos;SpectralIndex&apos;);

task.info().then((info) =&gt; {
  // Print the task info.
  console.log(info);
}).catch((err) =&gt; {
  // There was an error.
});</code>
</code></pre><h2>Run a Task</h2><p>There are many ways to run tasks and retrieve results using the GSF JavaScript SDK.  The following examples assume you have completed the steps below to create a task object.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// Get a task.
const task = GSF.client({address:&apos;MyServer&apos;,port:&apos;9191&apos;}).service(&apos;ENVI&apos;).task(&apos;SpectralIndex&apos;);

const taskParameters = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;http://MyServer:9191/ese/data/qb_boulder_msi&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  }
};</code>
</code></pre><h3>Using Promises</h3><p>The SDK provides a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><strong>Promise</strong></a>-based interface for submitting tasks.  If the task succeeds, the promise will be fulfilled.  If the job fails, the promise will be rejected.  There are two ways to use promises for job submission.</p><h5>1. Use <a href="./manual/../class/src/Task.js~Task.html#instance-method-submit"><strong>.submit()</strong></a> and then <a href="./manual/../class/src/Job.js~Job.html#instance-method-wait"><strong>.wait()</strong></a></h5><p>The <a href="./manual/../class/src/Task.js~Task.html"><strong>Task</strong></a>.<a href="./manual/../class/src/Task.js~Task.html#instance-method-submit"><strong>submit()</strong></a> function returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><strong>Promise</strong></a> to a <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a>, and the <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a>.<a href="./manual/../class/src/Job.js~Job.html#instance-method-wait"><strong>wait()</strong></a> function returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><strong>Promise</strong></a> to the JobResults.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// Submit a job.
task.submit(taskParameters)
  .then(job =&gt; job.wait())
  .then((results) =&gt; {
    // Do something with results.
    // This function is an example and is not provided by the SDK.
    AddToMap(results.OUTPUT_RASTER.best);
  }).catch((jobErrorMessage) =&gt; {
    // Display error.
  });</code>
</code></pre><h5>2. Use <a href="./manual/../class/src/Task.js~Task.html#instance-method-submitAndWait"><strong>.submitAndWait()</strong></a></h5><p>This function simply combines the <a href="./manual/../class/src/Task.js~Task.html#instance-method-submit"><strong>.submit()</strong></a> and <a href="./manual/../class/src/Job.js~Job.html#instance-method-wait"><strong>.wait()</strong></a> functions.  This is perhaps the simplest way to submit a job and retrieve the results.  Use this if you are only intereseted in results and do not wish to interact with the <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a> object.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// Submit a job.
task.submitAndWait(taskParameters).then((results) =&gt; {
    // Do something with results.
    // This function is an example and is not provided by the SDK.
    AddToMap(results.OUTPUT_RASTER.best);
  }).catch((jobErrorMessage) =&gt; {
    // Display error.
  });</code>
</code></pre><h2>List and Retrieve Workspace Files</h2><p>The GSF <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a> object provides the ability to fetch a list of workspace files.  It is required that the &apos;enableNodeInfo&apos; configuration is set to true on the server for job workspace access.</p><p>The task below, CustomTask, is a fictional task that writes a text file to the job workspace.  This also provides an example of using async/await instead of promises.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">const task = GSF.client({address:&apos;MyServer&apos;,port:&apos;9191&apos;}).service(&apos;ENVI&apos;).task(&apos;CustomTask&apos;);

// Submit job.
const job = await task.submit({});

// Wait for job to complete.
await job.wait();

// Get the list of workspace files.
const workspaceFiles = await job.workspace();
console.log(workspaceFiles);
// prints:
// [
//   {
//     dev: 66311,
//     mode: 33204,
//     nlink: 1,
//     uid: 1000,
//     gid: 1000,
//     rdev: 0,
//     blksize: 4096,
//     ino: 11768910,
//     size: 18,
//     blocks: 8,
//     atimeMs: 1604352379848.0715,
//     mtimeMs: 1604352379848.0715,
//     ctimeMs: 1604352379848.0715,
//     birthtimeMs: 1604352379848.0715,
//     atime: &quot;2020-11-02T21:26:19.848Z&quot;,
//     mtime: &quot;2020-11-02T21:26:19.848Z&quot;,
//     ctime: &quot;2020-11-02T21:26:19.848Z&quot;,
//     birthtime: &quot;2020-11-02T21:26:19.848Z&quot;,
//     path: &quot;file.txt&quot;
//   }
// ]

// Retrieve the contents of a text file.
const fileBuffer = await job.file(workspaceFiles[0].path);
const textDecoder = new TextDecoder(&apos;utf-8&apos;);
const fileContents = textDecoder.decode(fileBuffer);
console.log(fileContents); // prints: Text file contents.</code>
</code></pre><h3>Using Server Events</h3><p>The <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> and <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a> objects give you access to all job related events emitted by the server.  These classes inheret from Node&apos;s <a href="https://nodejs.org/api/events.html"><strong>EventEmitter</strong></a> and support methods such as .on(), .once(), .removeAllListeners(), etc. The following example shows how to listen for job events on the <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a>.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Set up an event listeners.
client.once(&apos;JobSucceeded&apos;, (data) =&gt; {
  console.log(&apos;Job Succeeded: &apos;, data.jobId);
});

client.once(&apos;JobFailed&apos;, (data) =&gt; {
  console.log(&apos;Job Failed: &apos;, data.jobId);
});

// Create a service object.
const service = client.service(&apos;ENVI&apos;);

// Create a task object.
const task = service.task(&apos;SpectralIndex&apos;);

const NDVIParameters = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;http://MyServer:9191/ese/data/qb_boulder_msi&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  }
};

// Submit a job.
task.submit(NDVIParameters);</code>
</code></pre><p>For a complete list of available events, see the <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> class documentation.</p><h2>Tracking Job Progress</h2><p>There are two ways to track the progress of a job.</p><h3>Progress Callbacks</h3><p>The <a href="./manual/../class/src/Task.js~Task.html#instance-method-submit"><strong>.submit()</strong></a> and <a href="./manual/../class/src/Task.js~Task.html#instance-method-submitAndWait"><strong>.submitAndWait()</strong></a> functions support the inclusion of a progress callback for reporting job progress.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">const progressCallback = function (data) {
  console.log(&apos;Job progress percent: &apos;, data.progress);
  console.log(&apos;Job progress message: &apos;, data.message);
};

// Submit a job.
task.submitAndWait(parameters, progressCallback).then((results) =&gt; {
    // Do something with results.
    // This function is an example and is not provided by the SDK.
    AddToMap(results.OUTPUT_RASTER.best);
  }).catch((jobErrorMessage) =&gt; {
    // Display error.
  });</code>
</code></pre><h3>Progress Events</h3><p>Job progress events are emitted by the <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> and <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a> objects.</p><h4>Client Progress Events</h4><p>It is possible to listen to all job progress events emitted by the server using the <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> object.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Set up an event listeners.
client.on(&apos;JobProgress&apos;, (data) =&gt; {
  console.log(&apos;Job: &apos;, data.jobId, &apos; progress percent: &apos;, data.progress);
  console.log(&apos;Job: &apos;, data.jobId, &apos; progress message: &apos;, data.message);
});

// Create a service object.
const service = client.service(&apos;ENVI&apos;);

// Create a task object.
const task = service.task(&apos;SpectralIndex&apos;);

const NDVIParameters = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;http://MyServer:9191/ese/data/qb_boulder_msi&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  }
};

// Submit a job.
task.submit(NDVIParameters);</code>
</code></pre><h4>Job Progress Events</h4><p>A <a href="./manual/../class/src/Job.js~Job.html"><strong>Job</strong></a> object emits progress events for the particular job which it represents.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">// GSF Client
const client = GSF.client({
    address: &apos;MyServer&apos;,
    port: &apos;9191&apos;
  });

// Create a service object.
const service = client.service(&apos;ENVI&apos;);

// Create a task object.
const task = service.task(&apos;SpectralIndex&apos;);

const NDVIParameters = {
  inputParameters: {
    INPUT_RASTER: {
      FACTORY: &apos;URLRaster&apos;,
      URL: &apos;http://MyServer:9191/ese/data/qb_boulder_msi&apos;
    },
    INDEX: &apos;Normalized Difference Vegetation Index&apos;
  }
};

// Submit a job.
task.submit(NDVIParameters).then((job) =&gt; {
  // Set up an event listener on the job.
  job.on(&apos;JobProgress&apos;, (data) =&gt; {
    console.log(&apos;Job &apos;, data.jobId, &apos; progress percent: &apos;, data.progress);
    console.log(&apos;Job &apos;, data.jobId, &apos; progress message: &apos;, data.message);
  });
}).catch((jobErrorMessage) =&gt; {
  // Display error.
});</code>
</code></pre><h2>Cancelling Jobs</h2><p>Below is an example of cancelling a job based on its job ID.</p><pre><code class="lang-javascript"><code class="source-code prettyprint">const myJobId = 1;
const job = new client.job(myJobId);
const force = false; // Do not force cancel.

// Cancel Job
job.cancel(force).then(() =&gt; {
  console.log(&apos;Cancel has been successfully requested.&apos;);
}).catch((err) =&gt; {
  // Display error.
});</code>
</code></pre><h2><a name="typescript"></a> Typescript Example</h2><p>Below is an example of submitting a job using typescript.</p><pre><code class="lang-typescript"><code class="source-code prettyprint">import * as GSF from &apos;gsf-js-client-sdk&apos;;

// Get a task.
const clientOptions: GSF.ClientOptions = {address: &apos;MyServer&apos;, port: &apos;9191&apos;};
const myClient: GSF.Client = GSF.client(clientOptions);
const ENVIService: GSF.Service = myClient.service(&apos;ENVI&apos;);
const myTask: GSF.Task = ENVIService.task(&apos;SpectralIndex&apos;);

const taskParameters: GSF.SubmitOptions = {
    inputParameters: {
        INPUT_RASTER: {
            FACTORY: &apos;URLRaster&apos;,
            URL: &apos;http://MyServer:9191/ese/data/qb_boulder_msi&apos;
        },
        INDEX: &apos;Normalized Difference Vegetation Index&apos;
    }
};

// Submit a job.
task.submitAndWait(taskParameters)
    .then((results: GSF.JobResults) =&gt; {
        // Do something with results.
        // This function is an example and is not provided by the SDK.
        AddToMap(results.OUTPUT_RASTER.best);
    }).catch((jobErrorMessage) =&gt; {
        // Display error.
    });</code>
</code></pre><h2><a name="bestPractices"></a> Best Practices</h2><h3>Connecting to Servers</h3><p>The examples throughout this documentation explain various concepts within the SDK using complete examples.  Most of the examples create a new <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> object for every example.  This is to ensure a fully functional and self-contained example but is not a good practice when developing web apps.  It is recommended that you limit the number of <a href="./manual/../class/src/Client.js~Client.html"><strong>Client</strong></a> objects that you create.  Ideally, your app will create only one instance of this class and pass the reference around where needed.  This helps ensure consistency and prevent the possibility of exceeding the browser&apos;s per-domain connection limit.</p></div>
        <a data-ice="link" href="manual/examples.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Change Log</h1><p>All notable changes to this project will be documented in this file.</p><h2>4.0.0 / 2020-06-22</h2><h3>New Features</h3><ul>
<li>Support for GSF 3.0:<ul>
<li>Add &apos;query&apos; option to JobListOptions for more advanced querying of the job database.</li>
<li>Add &apos;sort&apos; option to the JobListOptions for flexible sorting of the job list.</li>
<li>Add &apos;totals&apos; option to JobListOptions for totals broken down by job status.</li>
</ul>
</li>
</ul><h3>Breaking Changes</h3><ul>
<li>Changes related to GSF 3.0:<ul>
<li>Change jobId type from number to string to support the new &apos;uniqueJobIds&apos; configuration option in GSF.</li>
<li>Remove &apos;reverse&apos; and &apos;status&apos; options from JobListOptions in favor or more powerful &apos;sort&apos; and &apos;query&apos; options.</li>
<li>The JobInfoList is now an object containing the jobs array, job count, and totals.</li>
</ul>
</li>
</ul><p>For a detailed summary of the changes, see the V4 Migration Guide and examples in the documentation.</p><h2>3.0.0 / 2018-03-21</h2><h3>New Features</h3><ul>
<li>Updated the SDK to use the new GSF HTTP API.</li>
</ul><h3>Breaking Changes</h3><ul>
<li>Several breaking changes were made for this release.  For a detailed summary of the changes, see the Migration Guide in the documentation.</li>
</ul><h2>2.2.0 / 2018-03-22</h2><h3>New Features</h3><ul>
<li>Added Server.jobInfoList() for fetching an array of the current JobInfo objects.</li>
</ul><h3>Bug Fixes</h3><ul>
<li>Fix #10 - Server.jobInfoList() will retrieve full JobInfo objects from the server.</li>
</ul><h2>2.1.0 / 2018-03-21</h2><h3>New Features</h3><ul>
<li>Added headers object to the ServerArgs object to allow custom headers to be used in requests.</li>
</ul><h2>2.0.0 / 2017-07-24</h2><h3>New Features</h3><ul>
<li>Added the ability to use the SDK in Node.js.  See documentation for more details.</li>
</ul><h3>Breaking Changes</h3><ul>
<li>Task class: Replaced &apos;server&apos; and &apos;serviceName&apos; constructor arguments with &apos;service&apos;.  This only affects Task objects created using the Task class constructor; there is no change to Task objects created using the Service.Task() method.  See API documentation for more details.</li>
</ul><h2>1.0.0 / 2017-02-26</h2><h3>New Features</h3><ul>
<li>Add a change log.</li>
</ul></div>
        <a data-ice="link" href="manual/CHANGELOG.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
